{"version":3,"sources":["webpack:///./src/components/header/index.vue?ac50","webpack:///./src/components/header/index.vue?a538","webpack:///./src/components/header/index.vue?e461","webpack:///src/components/header/index.vue","webpack:///./src/components/header/index.vue","webpack:///./src/utils/sessionStorage.js","webpack:///./node_modules/_@babel_runtime-corejs3@7.10.2@@babel/runtime-corejs3/core-js-stable/json/stringify.js","webpack:///./node_modules/_core-js-pure@3.6.5@core-js-pure/stable/json/stringify.js","webpack:///./node_modules/_core-js-pure@3.6.5@core-js-pure/es/json/stringify.js","webpack:///./node_modules/_core-js-pure@3.6.5@core-js-pure/modules/es.json.stringify.js","webpack:///./src/components/listScrollView/index.vue?bd48","webpack:///./src/components/listScrollView/index.vue?baa7","webpack:///src/components/listScrollView/index.vue","webpack:///./src/components/listScrollView/index.vue","webpack:///./src/components/listScrollView/index.vue?c2a9","webpack:///./src/views/city/mixin.js","webpack:///./src/views/city/list.vue?3782","webpack:///./src/views/city/list.vue?7c06","webpack:///./src/views/city/list.vue?f432","webpack:///src/views/city/list.vue","webpack:///./src/views/city/list.vue","webpack:///./src/views/city/search.vue?3169","webpack:///./src/views/city/search.vue?2276","webpack:///./src/views/city/search.vue?ca67","webpack:///src/views/city/search.vue","webpack:///./src/views/city/search.vue"],"names":["name","props","to","type","String","default","methods","jump","this","$emit","$router","push","component","_h","$createElement","_c","_self","staticClass","_t","attrs","on","_v","set","key","val","sessionStorage","setItem","e","Notify","message","get","JSON","parse","getItem","remove","removeItem","module","exports","parent","core","stringify","it","replacer","space","apply","arguments","$","getBuiltIn","fails","$stringify","re","low","hi","fix","match","offset","string","prev","charAt","next","test","charCodeAt","toString","FORCED","target","stat","forced","result","replace","components","ScrollView","ElmFinish","mixins","loadmore","dataSource","Array","probeType","Number","interval","loading","Boolean","finish","data","px2rem","watch","reset","mounted","$refs","scroll","scrollTo","getScroll","_vm","ref","style","minHeight","parentHeight","paddingBottom","length","directives","rawName","value","expression","_e","saveData","city","adcode","longitude","latitude","sessionStorageKey","locate","axios","params","AmapKey","address","then","status","geocodes","location","split","$notify","_l","id","$event","stopPropagation","_s","ElmHeader","ListScrollView","List","groupCity","search","list","code","group","cities","blur","model","callback","$$v"],"mappings":"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","file":"static/js/8.2beacb.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--3-3!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=38334378&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--3-3!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=38334378&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"elm-header\"},[_vm._t(\"left\",[_c('elm-icon',{attrs:{\"name\":\"arrow\",\"font-size\":44,\"rotate\":-90},on:{\"click\":_vm.jump}})]),_vm._v(\" \"),_vm._t(\"default\"),_vm._v(\" \"),_vm._t(\"right\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/_happypack@5.0.1@happypack/loader.js?id=js!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_happypack@5.0.1@happypack/loader.js?id=js!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<template>\n  <header class=\"elm-header\">\n    <slot name=\"left\">\n      <!-- <router-link :to=\"to\"> -->\n      <!--\n        elm-icon默认是会对click事件调用e.stopPropagation方法,\n        那么router-link会无法正常工作，原因是router-link\n        有监听click事件，做了一些逻辑处理\n      -->\n      <elm-icon\n        name=\"arrow\"\n        :font-size=\"44\"\n        :rotate=\"-90\"\n        @click=\"jump\"\n      />\n      <!-- </router-link> -->\n    </slot>\n    <slot />\n    <slot name=\"right\" />\n  </header>\n</template>\n\n<script>\nexport default {\n  name: 'ElmHeader',\n  props: {\n    to: {\n      type: String,\n      default: '',\n    },\n  },\n  methods: {\n    jump() {\n      this.$emit('jump')\n      if (this.to) this.$router.push(this.to)\n      else this.$router.go(-1)\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .elm-header {\n    box-sizing: border-box;\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 999;\n    display: flex;\n    align-items: center;\n    width: 100%;\n    height: px2rem($headerHeight);\n    background-image: linear-gradient(90deg, #1db5ff, #008cff);\n  }\n\n  .elm-icon {\n    width: px2rem(72);\n    height: px2rem(72);\n    line-height: px2rem(72);\n    text-align: center;\n  }\n</style>\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=38334378&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=38334378&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38334378\",\n  null\n  \n)\n\nexport default component.exports","import { Notify } from '@/ui'\n\nexport function set(key, val) {\n  try {\n    sessionStorage.setItem(key, JSON.stringify(val))\n  } catch (e) {\n    Notify({ type: 'danger', message: '数据异常' })\n  }\n}\n\nexport function get(key) {\n  try {\n    return JSON.parse(sessionStorage.getItem(key))\n  } catch (e) {\n    Notify({ type: 'danger', message: '数据异常' })\n    return null\n  }\n}\n\nexport function remove(key) {\n  return sessionStorage.removeItem(key)\n}\n\nexport function clear() {\n  sessionStorage.clear()\n}\n","module.exports = require(\"core-js-pure/stable/json/stringify\");","var parent = require('../../es/json/stringify');\n\nmodule.exports = parent;\n","require('../../modules/es.json.stringify');\nvar core = require('../../internals/path');\n\nif (!core.JSON) core.JSON = { stringify: JSON.stringify };\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function stringify(it, replacer, space) {\n  return core.JSON.stringify.apply(null, arguments);\n};\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar fails = require('../internals/fails');\n\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar re = /[\\uD800-\\uDFFF]/g;\nvar low = /^[\\uD800-\\uDBFF]$/;\nvar hi = /^[\\uDC00-\\uDFFF]$/;\n\nvar fix = function (match, offset, string) {\n  var prev = string.charAt(offset - 1);\n  var next = string.charAt(offset + 1);\n  if ((low.test(match) && !hi.test(next)) || (hi.test(match) && !low.test(prev))) {\n    return '\\\\u' + match.charCodeAt(0).toString(16);\n  } return match;\n};\n\nvar FORCED = fails(function () {\n  return $stringify('\\uDF06\\uD834') !== '\"\\\\udf06\\\\ud834\"'\n    || $stringify('\\uDEAD') !== '\"\\\\udead\"';\n});\n\nif ($stringify) {\n  // https://github.com/tc39/proposal-well-formed-stringify\n  $({ target: 'JSON', stat: true, forced: FORCED }, {\n    // eslint-disable-next-line no-unused-vars\n    stringify: function stringify(it, replacer, space) {\n      var result = $stringify.apply(null, arguments);\n      return typeof result == 'string' ? result.replace(re, fix) : result;\n    }\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('scroll-view',{ref:\"scroll\",attrs:{\"probe-type\":_vm.probeType}},[_c('div',{staticClass:\"list-container\",style:({\n      minHeight: (_vm.parentHeight + \"px\"),\n      paddingBottom: _vm.dataSource.length && _vm.finish ? (\"\" + (_vm.px2rem(112))) : 0,\n    })},[_vm._t(\"default\"),_vm._v(\" \"),_c('elm-loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}]}),_vm._v(\" \"),(!_vm.dataSource.length && !_vm.loading)?_c('elm-empty'):_vm._e(),_vm._v(\" \"),_c('elm-finish',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dataSource.length && _vm.finish),expression:\"dataSource.length && finish\"}]})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/_happypack@5.0.1@happypack/loader.js?id=js!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_happypack@5.0.1@happypack/loader.js?id=js!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<template>\n  <scroll-view\n    ref=\"scroll\"\n    :probe-type=\"probeType\"\n  >\n    <div\n      :style=\"{\n        minHeight: `${parentHeight}px`,\n        paddingBottom: dataSource.length && finish ? `${px2rem(112)}` : 0,\n      }\"\n      class=\"list-container\"\n    >\n      <slot />\n      <elm-loading v-show=\"loading\" />\n      <elm-empty v-if=\"!dataSource.length && !loading\" />\n      <elm-finish v-show=\"dataSource.length && finish\" />\n    </div>\n  </scroll-view>\n</template>\n\n<script>\nimport loadmoreMixin from '@/mixins/loadmore'\nimport ScrollView from '@/components/scrollView/index.vue'\nimport ElmFinish from '@/components/finish/index.vue'\nimport px2rem from '@/utils/px2rem'\n\nexport default {\n  name: 'ListScrollView',\n  components: {\n    ScrollView,\n    ElmFinish,\n  },\n  mixins: [loadmoreMixin],\n  props: {\n    dataSource: {\n      type: Array,\n      default: () => [],\n    },\n    probeType: {\n      type: Number,\n      default: 0,\n    },\n    interval: {\n      type: Number,\n      default: 300,\n    },\n    loading: {\n      type: Boolean,\n      default: false,\n    },\n    finish: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      px2rem,\n    }\n  },\n  watch: {\n    dataSource() {\n      this.reset()\n    },\n    loading() {\n      this.reset()\n    },\n  },\n  mounted() {\n    this.$refs.scroll.on('scroll', ({ y }) => {\n      if (this.parentHeight >= this.contentHeight) return\n      if ((this.parentHeight + this.interval >= this.contentHeight + y) && !this.loading && !this.finish) {\n        this.$emit('loadmore')\n      }\n    })\n  },\n  methods: {\n    scrollTo({ x, y }, duration) {\n      this.$refs.scroll.scrollTo({ x, y }, duration)\n    },\n    getScroll() {\n      return this.$refs.scroll\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .list-container {\n    box-sizing: border-box;\n    position: relative;\n  }\n\n  .elm-finish {\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n</style>\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5be1a916&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5be1a916&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5be1a916\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--3-3!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5be1a916&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--3-3!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5be1a916&lang=scss&scoped=true&\"","import axios from 'axios'\nimport { set } from '@/utils/sessionStorage'\nimport { AmapKey, sessionStorageKey } from '@/config'\n\nexport default {\n  methods: {\n    saveData({ city, adcode, longitude, latitude }) {\n      set(sessionStorageKey.city, { city, adcode, longitude, latitude })\n    },\n    locate(city) {\n      axios.get('https://restapi.amap.com/v3/geocode/geo', {\n        params: {\n          key: AmapKey,\n          address: city,\n        },\n      }).then(({ data }) => {\n        if (data.status !== '1') {\n          this.$notify({ type: 'danger', message: '获取数据失败' })\n          return\n        }\n        const { adcode, location } = data.geocodes[0]\n        const [longitude, latitude] = location.split(',')\n        this.saveData({ city, adcode, longitude, latitude })\n        this.$router.push('/address')\n      })\n    },\n  },\n}\n","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--3-3!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=1827edb8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--3-3!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=1827edb8&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"group-city-list\"},_vm._l((_vm.dataSource),function(ref){\nvar id = ref.id;\nvar name = ref.name;\nreturn _c('li',{key:id,staticClass:\"group-city-item\",on:{\"click\":function($event){$event.stopPropagation();return _vm.locate(name)}}},[_vm._v(_vm._s(name))])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/_happypack@5.0.1@happypack/loader.js?id=js!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_happypack@5.0.1@happypack/loader.js?id=js!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","<template>\n  <ul class=\"group-city-list\">\n    <li\n      v-for=\"{ id, name } in dataSource\"\n      :key=\"id\"\n      class=\"group-city-item\"\n      @click.stop=\"locate(name)\"\n    >{{ name }}</li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  name: 'CityList',\n  props: {\n    dataSource: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  methods: {\n    locate(city) {\n      this.$emit('locate', city)\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .group-city-list {\n    padding-left: px2rem(30);\n\n    .group-city-item {\n      width: 100%;\n      height: px2rem(84);\n      color: $primaryTextColor;\n      font-size: px2rem(28);\n      line-height: px2rem(84);\n    }\n\n    .group-city-item:not(:last-child) {\n      @include border-bottom-1px();\n    }\n  }\n</style>\n","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=1827edb8&scoped=true&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=1827edb8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1827edb8\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--3-3!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=style&index=0&id=e5487154&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--3-3!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=style&index=0&id=e5487154&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"city-search fullscreen-fixed-container\"},[_c('elm-header',{attrs:{\"to\":\"/city\"}},[_c('div',{staticClass:\"search-container\"},[_c('elm-search',{ref:\"search\",attrs:{\"placeholder\":\"输入城市名或首字母查询\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)]),_vm._v(\" \"),_c('main',{staticClass:\"scroll-wrapper\",on:{\"touchstart\":_vm.blur}},[_c('list-scroll-view',{ref:\"list\",attrs:{\"data-source\":_vm.result,\"finish\":true}},[_c('list',{attrs:{\"data-source\":_vm.result},on:{\"locate\":_vm.locate}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/_happypack@5.0.1@happypack/loader.js?id=js!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_happypack@5.0.1@happypack/loader.js?id=js!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"city-search fullscreen-fixed-container\">\n    <elm-header to=\"/city\">\n      <div class=\"search-container\">\n        <elm-search\n          ref=\"search\"\n          v-model=\"search\"\n          placeholder=\"输入城市名或首字母查询\"\n        />\n      </div>\n    </elm-header>\n    <main\n      class=\"scroll-wrapper\"\n      @touchstart=\"blur\"\n    >\n      <list-scroll-view\n        ref=\"list\"\n        :data-source=\"result\"\n        :finish=\"true\"\n      >\n        <list\n          :data-source=\"result\"\n          @locate=\"locate\"\n        />\n      </list-scroll-view>\n    </main>\n  </div>\n</template>\n\n<script>\nimport cityMixin from './mixin'\nimport ElmHeader from '@/components/header/index.vue'\nimport ListScrollView from '@/components/listScrollView/index.vue'\nimport List from './list.vue'\n\nexport default {\n  name: 'CitySearch',\n  components: {\n    ElmHeader,\n    ListScrollView,\n    List,\n  },\n  mixins: [cityMixin],\n  props: {\n    groupCity: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  data() {\n    return {\n      search: '',\n      result: [],\n    }\n  },\n  watch: {\n    search(val) {\n      this.$refs.list.scrollTo({ y: 0 })\n      if (val === '') {\n        this.result = []\n        return\n      }\n      if (val.length === 1) {\n        const char = val.toUpperCase()\n        const code = char.charCodeAt()\n        if (code >= 65 && code <= 90) {\n          const group = this.groupCity.find(group => group.letter === char)\n          if (!group) return\n          this.result = group.cities\n          return\n        }\n      }\n      this.result = this.groupCity.reduce((result, group) => {\n        return result.concat(group.cities.filter(city => city.name.includes(val)))\n      }, [])\n    },\n  },\n  methods: {\n    blur() {\n      // 当我们输入完成后我们点击结果列表，此时输入框还处于聚焦状态\n      // 那么在手机端是会再次弹出输入键盘的，所以这里我们手动去除聚焦状态\n      this.$refs.search.blur()\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .city-search {\n    padding-top: px2rem($headerHeight);\n  }\n\n  .scroll-wrapper {\n    overflow: hidden;\n    width: 100%;\n    height: 100%;\n  }\n</style>\n","import { render, staticRenderFns } from \"./search.vue?vue&type=template&id=e5487154&scoped=true&\"\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&id=e5487154&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e5487154\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}