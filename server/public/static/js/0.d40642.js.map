{"version":3,"sources":["webpack:///./src/views/shop/common/index.vue?59a9","webpack:///./src/components/foodLoading/index.vue?9bb0","webpack:///src/components/foodLoading/index.vue","webpack:///./src/components/foodLoading/index.vue","webpack:///./src/components/foodLoading/index.vue?adef","webpack:///./src/views/shop/common/header.vue?b55d","webpack:///src/views/shop/common/header.vue","webpack:///./src/views/shop/common/header.vue","webpack:///./src/views/shop/common/header.vue?5ed5","webpack:///src/views/shop/common/card.vue","webpack:///./src/views/shop/common/card.vue?828c","webpack:///./src/views/shop/common/card.vue","webpack:///./src/views/shop/common/card.vue?25ef","webpack:///./src/views/shop/common/navList.vue?75c2","webpack:///src/views/shop/common/navList.vue","webpack:///./src/views/shop/common/navList.vue","webpack:///./src/views/shop/common/navList.vue?87e1","webpack:///src/views/shop/common/shopDrawer.vue","webpack:///./src/views/shop/common/shopDrawer.vue?b43d","webpack:///./src/views/shop/common/shopDrawer.vue","webpack:///./src/views/shop/common/shopDrawer.vue?7f37","webpack:///src/views/shop/common/index.vue","webpack:///./src/views/shop/common/index.vue?ed27","webpack:///./src/views/shop/common/index.vue","webpack:///./src/components/foodLoading/index.vue?2b30","webpack:///./src/views/shop/common/header.vue?db0f","webpack:///./src/views/shop/common/card.vue?1144","webpack:///./src/views/shop/common/navList.vue?e9b7","webpack:///./src/views/shop/common/shopDrawer.vue?2739","webpack:///./src/views/shop/common/index.vue?4c8c"],"names":["name","data","id","index","height","interval","count","beforeDestroy","clearTimeout","this","mounted","$refs","icon","offsetHeight","jump","methods","_h","$createElement","_c","_self","attrs","ref","staticClass","style","backgroundPosition","props","opacity","type","Number","default","computed","variable","back","$router","push","from","backgroundColor","primaryTextColor","on","_v","directives","rawName","value","expression","staticStyle","_t","filters","time","val","expand","$emit","_vm","$event","stopPropagation","_s","restaurant","rating","recentOrderNum","_f","orderLeadTime","notice","_l","redpack","slice","item","key","title","tags","tag","borderColor","border","color","text","activities","length","imagePath","navList","link","flex","path","format","components","ScrollView","date","Date","close","scrollToElement","scroll","el","acquire","$notify","_e","activity","iconName","description","support","FoodLoading","ScrollHeader","Wave","Card","NavList","ShopDrawer","loading","shopDrawer","navTop","headerHeight","navOffsetTop","worker","watch","$nextTick","terminate","$route","params","init","getData","code","header","$el","offsetTop","open","rect","navHeight","menuTop","content","y","Math","ceil","toFixed","reset","getScroll","backgroundImage","position","top","left","zIndex"],"mappings":"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","file":"js/0.d40642.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shop-detail-container\"},[(_vm.loading)?_c('food-loading'):_vm._e(),_vm._v(\" \"),_c('scroll-header',{ref:\"header\",attrs:{\"opacity\":_vm.opacity}},[_c('p',{staticClass:\"shop-name\"},[_vm._v(_vm._s(_vm.restaurant ? _vm.restaurant.name : ''))])]),_vm._v(\" \"),(_vm.restaurant)?_c('div',{staticClass:\"scroll-wrapper\"},[_c('scroll-view',{ref:\"scroll\",attrs:{\"probe-type\":1}},[_c('div',{staticClass:\"shop-detail\"},[_c('div',{staticClass:\"bg-image-container\",style:({\n            backgroundImage: (\"url(\" + (_vm.restaurant.bgImagePath) + \")\"),\n          })},[_c('div',{staticClass:\"wave-container\"},[_c('wave')],1)]),_vm._v(\" \"),_c('card',{on:{\"expand\":_vm.open}}),_vm._v(\" \"),_c('nav-list',{ref:\"nav-list\"}),_vm._v(\" \"),_c('main',{ref:\"content\",staticClass:\"content\"},[_vm._t(\"default\")],2)],1)])],1):_vm._e(),_vm._v(\" \"),_c('nav-list',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.navList),expression:\"navList\"}],style:({\n      position: 'fixed',\n      top: (_vm.navTop + \"px\"),\n      left: 0,\n      zIndex: 999,\n    })}),_vm._v(\" \"),(_vm.shopDrawer)?_c('shop-drawer',{ref:\"shopDrawer\",on:{\"close\":_vm.close}}):_vm._e(),_vm._v(\" \"),_vm._t(\"extra\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/_happypack@5.0.1@happypack/loader.js?id=js!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_happypack@5.0.1@happypack/loader.js?id=js!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<template>\n  <transition\n    name=\"food-loading\"\n    appear\n  >\n    <elm-mask background-color=\"rgba(255, 255, 255, .6)\">\n      <span\n        ref=\"icon\"\n        :style=\"{\n          backgroundPosition: `0 -${index * height}px`,\n        }\"\n        class=\"food-loading-icon\"\n      />\n    </elm-mask>\n  </transition>\n</template>\n\n<script>\nexport default {\n  name: 'FoodLoading',\n  data() {\n    return {\n      id: null,\n      index: 0,\n      height: 0,\n      interval: 800,\n      count: 7,\n    }\n  },\n  beforeDestroy() {\n    clearTimeout(this.id)\n  },\n  mounted() {\n    this.height = this.$refs.icon.offsetHeight\n    this.id = this.jump()\n  },\n  methods: {\n    jump() {\n      return setTimeout(() => {\n        this.index = (this.index + 1) % 7\n        this.id = this.jump()\n      }, this.interval)\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .food-loading-icon {\n    width: px2rem(100);\n    height: px2rem(100);\n    background-image: url(\"~@/assets/image/icon.png\");\n    background-repeat: no-repeat;\n    background-size: cover;\n    animation: jump .8s ease-in-out infinite;\n  }\n\n  @keyframes jump {\n    0% {\n      transform: translateY(0);\n    }\n\n    50% {\n      transform: translateY(-60%);\n    }\n\n    100% {\n      transform: translateY(0);\n    }\n  }\n\n  .food-loading-enter,\n  .food-loading-leave-to {\n    opacity: 0;\n  }\n\n  .food-loading-enter-active,\n  .food-loading-leave-active {\n    transition: opacity .8s ease;\n  }\n</style>\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=723d7502&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=723d7502&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"723d7502\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"food-loading\",\"appear\":\"\"}},[_c('elm-mask',{attrs:{\"background-color\":\"rgba(255, 255, 255, .6)\"}},[_c('span',{ref:\"icon\",staticClass:\"food-loading-icon\",style:({\n        backgroundPosition: (\"0 -\" + (_vm.index * _vm.height) + \"px\"),\n      })})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/_happypack@5.0.1@happypack/loader.js?id=js!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_happypack@5.0.1@happypack/loader.js?id=js!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=script&lang=js&\"","<template>\n  <div\n    class=\"header\"\n    :style=\"{\n      backgroundColor: `rgba(255, 255, 255, ${opacity})`,\n    }\"\n  >\n    <elm-icon\n      name=\"arrow\"\n      :color=\"opacity === 1 ? variable.primaryTextColor : '#fff'\"\n      :font-size=\"44\"\n      :rotate=\"-90\"\n      @click=\"back\"\n    />\n    <div\n      v-show=\"opacity === 1\"\n      style=\"flex: 1;\"\n    >\n      <slot />\n    </div>\n  </div>\n</template>\n\n<script>\nimport variable from '@/scss/var.scss'\n\nexport default {\n  name: 'ScrollHeader',\n  props: {\n    opacity: {\n      type: Number,\n      default: 0,\n    },\n  },\n  computed: {\n    variable() {\n      return variable\n    },\n  },\n  methods: {\n    back() {\n      const { from } = this.$route.query\n      this.$router.push(from || '/home')\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .header {\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 999;\n    display: flex;\n    align-items: center;\n    width: 100%;\n    height: px2rem(84);\n  }\n\n  .elm-icon {\n    width: px2rem(72);\n    height: px2rem(72);\n    line-height: px2rem(72);\n    text-align: center;\n  }\n</style>\n","import { render, staticRenderFns } from \"./header.vue?vue&type=template&id=17c9d08d&scoped=true&\"\nimport script from \"./header.vue?vue&type=script&lang=js&\"\nexport * from \"./header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./header.vue?vue&type=style&index=0&id=17c9d08d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17c9d08d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\",style:({\n    backgroundColor: (\"rgba(255, 255, 255, \" + _vm.opacity + \")\"),\n  })},[_c('elm-icon',{attrs:{\"name\":\"arrow\",\"color\":_vm.opacity === 1 ? _vm.variable.primaryTextColor : '#fff',\"font-size\":44,\"rotate\":-90},on:{\"click\":_vm.back}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.opacity === 1),expression:\"opacity === 1\"}],staticStyle:{\"flex\":\"1\"}},[_vm._t(\"default\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"shop-detail-card\"\n    @click.stop=\"expand('')\"\n  >\n    <h1 class=\"shop-name\">{{ restaurant.name }}</h1>\n    <div class=\"information\">\n      <span class=\"rating\">评分{{ restaurant.rating }}</span>\n      <span class=\"sell\">月售{{ restaurant.recentOrderNum }}</span>\n      <span class=\"time\">蜂鸟专送约{{ restaurant.orderLeadTime | time }}</span>\n    </div>\n    <p\n      class=\"notice\"\n      @click.stop=\"expand('notice')\"\n    >公告：{{ restaurant.notice }}</p>\n    <ul class=\"redpack-list\">\n      <li\n        v-for=\"(item, index) in restaurant.redpack.slice(0, 2)\"\n        :key=\"index\"\n        class=\"redpack-item\"\n      >\n        <span class=\"money\">{{ item.value }}</span>\n        <span class=\"title\">{{ item.title }}</span>\n        <span class=\"acquire\">领</span>\n      </li>\n    </ul>\n    <ul\n      class=\"tag-list\"\n      @click.stop=\"expand('activity')\"\n    >\n      <li\n        v-for=\"(tag, index) in restaurant.tags.slice(0, 4)\"\n        :key=\"index\"\n        class=\"tag-item\"\n      >\n        <elm-tag\n          :color=\"tag.color\"\n          :style=\"{\n            borderColor: tag.border,\n          }\"\n        >{{ tag.text }}</elm-tag>\n      </li>\n    </ul>\n    <span\n      class=\"activity\"\n      @click.stop=\"expand('activity')\"\n    >{{ restaurant.activities.length }}个优惠&nbsp;<elm-icon\n      name=\"arrow\"\n      :rotate=\"180\"\n      color=\"#999\"\n    /></span>\n    <img\n      :src=\"restaurant.imagePath\"\n      alt=\"shop\"\n    >\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\n\nexport default {\n  name: 'Card',\n  filters: {\n    time(val) {\n      if (val < 60) return `${val}分钟`\n      const h = val / 60\n      const m = val % 60\n      return `${h}小时${m}分钟`\n    },\n  },\n  computed: {\n    ...mapState('shop', {\n      restaurant: state => state.restaurant,\n    }),\n  },\n  methods: {\n    expand(type) {\n      // type值要与drawer组件中的ref对应\n      this.$emit('expand', type)\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .shop-detail-card {\n    box-sizing: border-box;\n    position: relative;\n    padding: px2rem(30);\n    margin: 0 px2rem(30) px2rem(30);\n    background-color: #fff;\n    border-radius: px2rem(12);\n    box-shadow: 0 px2rem(8) px2rem(20) 0 #eee;\n\n    img {\n      position: absolute;\n      top: px2rem(24);\n      right: px2rem(30);\n      width: px2rem(100);\n      height: px2rem(100);\n      border-radius: px2rem(12);\n    }\n\n    .shop-name {\n      @include single-line-overflow();\n      width: px2rem(520);\n      margin-bottom: px2rem(20);\n      color: $primaryTextColor;\n      font-size: px2rem(36);\n      font-weight: 700;\n    }\n\n    .information {\n      margin-bottom: px2rem(16);\n      color: $primaryTextColor;\n      font-size: px2rem(24);\n\n      span {\n        margin-right: px2rem(20);\n      }\n    }\n\n    .notice {\n      @include single-line-overflow();\n      margin-bottom: px2rem(20);\n      color: $secondaryTextColor;\n      font-size: px2rem(24);\n    }\n\n    .redpack-list {\n      display: flex;\n      flex-wrap: wrap;\n    }\n\n    .redpack-item {\n      position: relative;\n      margin-right: px2rem(14);\n      margin-bottom: px2rem(14);\n      color: #644f1b;\n      font-size: px2rem(24);\n      line-height: px2rem(42);\n      background-image: linear-gradient(90deg, #ffefc4, #f3dda0);\n      border-radius: px2rem(4);\n\n      &::before,\n      &::after {\n        content: \"\";\n        position: absolute;\n        right: px2rem(40);\n        width: px2rem(8);\n        height: px2rem(8);\n        background-color: #fff;\n      }\n\n      &::before {\n        top: px2rem(-4);\n      }\n\n      &::after {\n        bottom: px2rem(-4);\n      }\n\n      .money {\n        padding-left: px2rem(20);\n        font-size: px2rem(32);\n        font-weight: 700;\n\n        &::before {\n          content: \"¥\";\n          margin-right: px2rem(4);\n          font-size: px2rem(24);\n        }\n      }\n\n      .title {\n        position: relative;\n        padding-right: px2rem(20);\n\n        &::before {\n          @include bg(\"~@/assets/image/svip.png\");\n          content: \"\";\n          display: inline-block;\n          width: px2rem(30);\n          height: px2rem(30);\n          margin-right: px2rem(4);\n          vertical-align: sub;\n        }\n\n        &::after {\n          content: \"\";\n          position: absolute;\n          top: 0;\n          right: 0;\n          height: 100%;\n          border-right: 1px dashed #fff;\n        }\n      }\n\n      .acquire {\n        padding-right: px2rem(12);\n      }\n    }\n\n    .tag-list {\n      display: flex;\n      flex-wrap: wrap;\n      height: px2rem(60);\n    }\n\n    .tag-item {\n      height: px2rem(60);\n      margin-right: px2rem(14);\n      line-height: px2rem(60);\n    }\n\n    .activity {\n      position: absolute;\n      right: px2rem(30);\n      bottom: px2rem(30);\n      color: #999;\n      font-size: px2rem(24);\n      line-height: px2rem(60);\n    }\n  }\n</style>\n","import mod from \"-!../../../../node_modules/_happypack@5.0.1@happypack/loader.js?id=js!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./card.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_happypack@5.0.1@happypack/loader.js?id=js!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./card.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./card.vue?vue&type=template&id=237be31c&scoped=true&\"\nimport script from \"./card.vue?vue&type=script&lang=js&\"\nexport * from \"./card.vue?vue&type=script&lang=js&\"\nimport style0 from \"./card.vue?vue&type=style&index=0&id=237be31c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"237be31c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shop-detail-card\",on:{\"click\":function($event){$event.stopPropagation();return _vm.expand('')}}},[_c('h1',{staticClass:\"shop-name\"},[_vm._v(_vm._s(_vm.restaurant.name))]),_vm._v(\" \"),_c('div',{staticClass:\"information\"},[_c('span',{staticClass:\"rating\"},[_vm._v(\"评分\"+_vm._s(_vm.restaurant.rating))]),_vm._v(\" \"),_c('span',{staticClass:\"sell\"},[_vm._v(\"月售\"+_vm._s(_vm.restaurant.recentOrderNum))]),_vm._v(\" \"),_c('span',{staticClass:\"time\"},[_vm._v(\"蜂鸟专送约\"+_vm._s(_vm._f(\"time\")(_vm.restaurant.orderLeadTime)))])]),_vm._v(\" \"),_c('p',{staticClass:\"notice\",on:{\"click\":function($event){$event.stopPropagation();return _vm.expand('notice')}}},[_vm._v(\"公告：\"+_vm._s(_vm.restaurant.notice))]),_vm._v(\" \"),_c('ul',{staticClass:\"redpack-list\"},_vm._l((_vm.restaurant.redpack.slice(0, 2)),function(item,index){return _c('li',{key:index,staticClass:\"redpack-item\"},[_c('span',{staticClass:\"money\"},[_vm._v(_vm._s(item.value))]),_vm._v(\" \"),_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('span',{staticClass:\"acquire\"},[_vm._v(\"领\")])])}),0),_vm._v(\" \"),_c('ul',{staticClass:\"tag-list\",on:{\"click\":function($event){$event.stopPropagation();return _vm.expand('activity')}}},_vm._l((_vm.restaurant.tags.slice(0, 4)),function(tag,index){return _c('li',{key:index,staticClass:\"tag-item\"},[_c('elm-tag',{style:({\n          borderColor: tag.border,\n        }),attrs:{\"color\":tag.color}},[_vm._v(_vm._s(tag.text))])],1)}),0),_vm._v(\" \"),_c('span',{staticClass:\"activity\",on:{\"click\":function($event){$event.stopPropagation();return _vm.expand('activity')}}},[_vm._v(_vm._s(_vm.restaurant.activities.length)+\"个优惠 \"),_c('elm-icon',{attrs:{\"name\":\"arrow\",\"rotate\":180,\"color\":\"#999\"}})],1),_vm._v(\" \"),_c('img',{attrs:{\"src\":_vm.restaurant.imagePath,\"alt\":\"shop\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/_happypack@5.0.1@happypack/loader.js?id=js!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./navList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_happypack@5.0.1@happypack/loader.js?id=js!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./navList.vue?vue&type=script&lang=js&\"","<template>\n  <ul class=\"nav-list\">\n    <router-link\n      v-for=\"({name, link}) in navList\"\n      :key=\"name\"\n      :to=\"{\n        path: link,\n      }\"\n      :style=\"{\n        flex: 1,\n      }\"\n    >\n      <li\n        class=\"nav-item\"\n      >{{ name }}</li>\n    </router-link>\n  </ul>\n</template>\n\n<script>\nexport default {\n  name: 'NavList',\n  data() {\n    return {\n      navList: [{\n        name: '点餐',\n        link: `/shop/${this.$route.params.id}/order?from=${this.$route.query.from}`,\n      }, {\n        name: '评价',\n        link: `/shop/${this.$route.params.id}/comment?from=${this.$route.query.from}`,\n      }, {\n        name: '商家',\n        link: `/shop/${this.$route.params.id}/detail?from=${this.$route.query.from}`,\n      }],\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .nav-list {\n    box-sizing: border-box;\n    display: flex;\n    width: 100%;\n    padding: 0 px2rem(30) px2rem(20);\n    background-color: #fff;\n\n    .router-link-active .nav-item::after {\n      content: \"\";\n      position: absolute;\n      bottom: 0;\n      left: 50%;\n      transform: translateX(-50%);\n      width: px2rem(46);\n      height: px2rem(8);\n      background-color: $themeColor;\n      border-radius: px2rem(4);\n    }\n\n    .nav-item {\n      position: relative;\n      color: $primaryTextColor;\n      font-size: px2rem(28);\n      line-height: px2rem(60);\n      text-align: center;\n    }\n  }\n</style>\n","import { render, staticRenderFns } from \"./navList.vue?vue&type=template&id=691580ff&scoped=true&\"\nimport script from \"./navList.vue?vue&type=script&lang=js&\"\nexport * from \"./navList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./navList.vue?vue&type=style&index=0&id=691580ff&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"691580ff\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"nav-list\"},_vm._l((_vm.navList),function(ref){\nvar name = ref.name;\nvar link = ref.link;\nreturn _c('router-link',{key:name,style:({\n      flex: 1,\n    }),attrs:{\"to\":{\n      path: link,\n    }}},[_c('li',{staticClass:\"nav-item\"},[_vm._v(_vm._s(name))])])}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <elm-drawer\n    :title=\"restaurant.name\"\n    @close=\"close\"\n  >\n    <div class=\"scroll-wrapper\">\n      <scroll-view ref=\"scroll\">\n        <div v-if=\"restaurant.redpack.length\">\n          <p class=\"title\">红包</p>\n          <ul class=\"redpack-list\">\n            <li\n              v-for=\"(item, index) in restaurant.redpack\"\n              :key=\"index\"\n              class=\"redpack-item\"\n              @click.stop=\"acquire\"\n            >\n              <span class=\"money\">{{ item.value }}</span>\n              <div class=\"content\">\n                <p class=\"primary\">超级会员店铺红包</p>\n                <p class=\"secondary\">{{ item.title }}, {{ date | format }}到期</p>\n              </div>\n              <span class=\"acquire\">领取</span>\n            </li>\n          </ul>\n        </div>\n        <div v-if=\"restaurant.activities.length\">\n          <p\n            ref=\"activity\"\n            class=\"title\"\n          >优惠</p>\n          <ul class=\"activity-list\">\n            <li\n              v-for=\"activity in restaurant.activities\"\n              :key=\"activity.id\"\n              class=\"activity-item\"\n            >\n              <elm-tag\n                :color=\"activity.color\"\n                :style=\"{\n                  borderColor: activity.border,\n                }\"\n              >{{ activity.iconName }}</elm-tag>\n              <p class=\"desc\">{{ activity.description }}</p>\n            </li>\n          </ul>\n        </div>\n        <p class=\"title\">商家服务</p>\n        <ul class=\"support-list\">\n          <li\n            v-for=\"support in restaurant.supports\"\n            :key=\"support.id\"\n            class=\"support-item\"\n          >\n            <elm-tag :color=\"`#${support.color}`\">{{ support.name }}</elm-tag>\n            <p class=\"desc\">{{ support.description }}</p>\n          </li>\n        </ul>\n        <p\n          ref=\"notice\"\n          class=\"title\"\n        >公告</p>\n        <p class=\"notice\">公告: {{ restaurant.notice }}</p>\n      </scroll-view>\n    </div>\n  </elm-drawer>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport ScrollView from '@/components/scrollView/index.vue'\n\nexport default {\n  name: 'ShopDrawer',\n  filters: {\n    format(val) {\n      return `${val.getFullYear()}.${val.getMonth() + 1}.${val.getDate()}`\n    },\n  },\n  components: {\n    ScrollView,\n  },\n  data() {\n    return {\n      date: new Date(),\n    }\n  },\n  computed: {\n    ...mapState('shop', {\n      restaurant: state => state.restaurant,\n    }),\n  },\n  methods: {\n    close() {\n      this.$emit('close')\n    },\n    scrollToElement(type) {\n      const el = this.$refs[type]\n      this.$refs.scroll.scrollToElement(el)\n    },\n    acquire() {\n      this.$notify({ type: 'primary', message: '功能正在开发中' })\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .scroll-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n    width: 100%;\n    height: 100%;\n    padding: 0 px2rem(30);\n    background-color: #fafafa;\n  }\n\n  .title {\n    padding: px2rem(20) 0;\n    color: $primaryTextColor;\n    font-size: px2rem(28);\n  }\n\n  .redpack-list {\n    overflow: hidden;\n\n    .redpack-item {\n      display: flex;\n      align-items: center;\n      padding: px2rem(30);\n      margin-bottom: px2rem(20);\n      color: #644f1b;\n      background-image: linear-gradient(90deg, #ffefc4, #f3dda0);\n      border-radius: px2rem(16);\n\n      .money {\n        margin-right: px2rem(30);\n        font-size: px2rem(48);\n        font-weight: 700;\n      }\n\n      .money::before {\n        content: \"¥\";\n        margin-right: px2rem(4);\n        font-size: px2rem(28);\n      }\n\n      .content {\n        flex: 1;\n      }\n\n      .primary {\n        margin-bottom: px2rem(12);\n        font-size: px2rem(28);\n\n        &::before {\n          @include bg(\"~@/assets/image/svip.png\");\n          content: \"\";\n          display: inline-block;\n          width: px2rem(28);\n          height: px2rem(28);\n          margin-right: px2rem(8);\n        }\n      }\n\n      .secondary {\n        font-size: px2rem(24);\n      }\n\n      .acquire {\n        width: px2rem(100);\n        color: #fff;\n        font-size: px2rem(24);\n        line-height: px2rem(50);\n        text-align: center;\n        background-color: #644f1b;\n        border-radius: px2rem(24);\n      }\n    }\n  }\n\n  .activity-list,\n  .support-list {\n    overflow: hidden;\n\n    .activity-item,\n    .support-item {\n      position: relative;\n      padding-left: px2rem(100);\n      margin-bottom: px2rem(12);\n\n      .elm-tag {\n        position: absolute;\n        top: px2rem(4);\n        left: 0;\n        width: px2rem(72);\n        text-align: center;\n      }\n\n      .desc {\n        color: #999;\n        font-size: px2rem(24);\n        line-height: px2rem(38);\n      }\n    }\n  }\n\n  .notice {\n    padding-bottom: px2rem(30);\n    color: #999;\n    font-size: px2rem(24);\n    line-height: px2rem(36);\n  }\n\n  .elm-tag {\n    padding: 0 px2rem(8);\n    border-color: #ffc9c1;\n  }\n</style>\n","import mod from \"-!../../../../node_modules/_happypack@5.0.1@happypack/loader.js?id=js!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./shopDrawer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_happypack@5.0.1@happypack/loader.js?id=js!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./shopDrawer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./shopDrawer.vue?vue&type=template&id=bf878bf2&scoped=true&\"\nimport script from \"./shopDrawer.vue?vue&type=script&lang=js&\"\nexport * from \"./shopDrawer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./shopDrawer.vue?vue&type=style&index=0&id=bf878bf2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bf878bf2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('elm-drawer',{attrs:{\"title\":_vm.restaurant.name},on:{\"close\":_vm.close}},[_c('div',{staticClass:\"scroll-wrapper\"},[_c('scroll-view',{ref:\"scroll\"},[(_vm.restaurant.redpack.length)?_c('div',[_c('p',{staticClass:\"title\"},[_vm._v(\"红包\")]),_vm._v(\" \"),_c('ul',{staticClass:\"redpack-list\"},_vm._l((_vm.restaurant.redpack),function(item,index){return _c('li',{key:index,staticClass:\"redpack-item\",on:{\"click\":function($event){$event.stopPropagation();return _vm.acquire($event)}}},[_c('span',{staticClass:\"money\"},[_vm._v(_vm._s(item.value))]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('p',{staticClass:\"primary\"},[_vm._v(\"超级会员店铺红包\")]),_vm._v(\" \"),_c('p',{staticClass:\"secondary\"},[_vm._v(_vm._s(item.title)+\", \"+_vm._s(_vm._f(\"format\")(_vm.date))+\"到期\")])]),_vm._v(\" \"),_c('span',{staticClass:\"acquire\"},[_vm._v(\"领取\")])])}),0)]):_vm._e(),_vm._v(\" \"),(_vm.restaurant.activities.length)?_c('div',[_c('p',{ref:\"activity\",staticClass:\"title\"},[_vm._v(\"优惠\")]),_vm._v(\" \"),_c('ul',{staticClass:\"activity-list\"},_vm._l((_vm.restaurant.activities),function(activity){return _c('li',{key:activity.id,staticClass:\"activity-item\"},[_c('elm-tag',{style:({\n                borderColor: activity.border,\n              }),attrs:{\"color\":activity.color}},[_vm._v(_vm._s(activity.iconName))]),_vm._v(\" \"),_c('p',{staticClass:\"desc\"},[_vm._v(_vm._s(activity.description))])],1)}),0)]):_vm._e(),_vm._v(\" \"),_c('p',{staticClass:\"title\"},[_vm._v(\"商家服务\")]),_vm._v(\" \"),_c('ul',{staticClass:\"support-list\"},_vm._l((_vm.restaurant.supports),function(support){return _c('li',{key:support.id,staticClass:\"support-item\"},[_c('elm-tag',{attrs:{\"color\":(\"#\" + (support.color))}},[_vm._v(_vm._s(support.name))]),_vm._v(\" \"),_c('p',{staticClass:\"desc\"},[_vm._v(_vm._s(support.description))])],1)}),0),_vm._v(\" \"),_c('p',{ref:\"notice\",staticClass:\"title\"},[_vm._v(\"公告\")]),_vm._v(\" \"),_c('p',{staticClass:\"notice\"},[_vm._v(\"公告: \"+_vm._s(_vm.restaurant.notice))])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"shop-detail-container\">\n    <food-loading v-if=\"loading\" />\n    <scroll-header\n      ref=\"header\"\n      :opacity=\"opacity\"\n    >\n      <p class=\"shop-name\">{{ restaurant ? restaurant.name : '' }}</p>\n    </scroll-header>\n    <div\n      v-if=\"restaurant\"\n      class=\"scroll-wrapper\"\n    >\n      <scroll-view\n        ref=\"scroll\"\n        :probe-type=\"1\"\n      >\n        <div\n          class=\"shop-detail\"\n        >\n          <!-- 背景 -->\n          <div\n            class=\"bg-image-container\"\n            :style=\"{\n              backgroundImage: `url(${restaurant.bgImagePath})`,\n            }\"\n          >\n            <div class=\"wave-container\">\n              <wave />\n            </div>\n          </div>\n          <!-- 卡片 -->\n          <card @expand=\"open\" />\n          <!-- 导航栏 -->\n          <nav-list ref=\"nav-list\" />\n          <!-- cotent -->\n          <main\n            ref=\"content\"\n            class=\"content\"\n          >\n            <slot />\n          </main>\n        </div>\n      </scroll-view>\n    </div>\n    <nav-list\n      v-show=\"navList\"\n      :style=\"{\n        position: 'fixed',\n        top: `${navTop}px`,\n        left: 0,\n        zIndex: 999,\n      }\"\n    />\n    <shop-drawer\n      v-if=\"shopDrawer\"\n      ref=\"shopDrawer\"\n      @close=\"close\"\n    />\n    <slot name=\"extra\" />\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { mapState, mapMutations } from 'vuex'\nimport { SAVE_RESTAURANT_DATA } from '@/store/modules/shop/mutation-types'\nimport FoodLoading from '@/components/foodLoading/index.vue'\nimport ScrollView from '@/components/scrollView/index.vue'\nimport Wave from '@/components/wave/index.vue'\nimport ScrollHeader from './header.vue'\nimport Card from './card.vue'\nimport NavList from './navList.vue'\nimport ShopDrawer from './shopDrawer.vue'\n\nexport default {\n  name: 'Common',\n  components: {\n    FoodLoading,\n    ScrollHeader,\n    ScrollView,\n    Wave,\n    Card,\n    NavList,\n    ShopDrawer,\n  },\n  data() {\n    return {\n      loading: false,\n      shopDrawer: false,\n      navList: false,\n      opacity: 0,\n      navTop: 0,\n      headerHeight: 0,\n      navOffsetTop: 0,\n      interval: 254,\n      worker: null,\n    }\n  },\n  computed: {\n    ...mapState('shop', {\n      restaurant: state => state.restaurant,\n    }),\n  },\n  watch: {\n    restaurant() {\n      this.$nextTick(() => {\n        this.init()\n      })\n    },\n  },\n  beforeDestroy() {\n    if (this.worker) this.worker.terminate()\n  },\n  mounted() {\n    if (!this.restaurant || this.restaurant.id !== this.$route.params.id) {\n      this.getData()\n      return\n    }\n    this.init()\n  },\n  methods: {\n    getData() {\n      this.loading = true\n      axios.get('/api/shop/detail', {\n        params: {\n          id: this.$route.params.id,\n        },\n      }).then(({ data }) => {\n        if (data.code !== 0) {\n          this.$notify({ type: 'danger', message: '请求数据失败' })\n          return\n        }\n        // worker.js在public/js目录下\n        // PUBLICPATH是使用webpack.definePlugin定义的变量\n        // eslint-disable-next-line\n        this.worker = new Worker(`${PUBLICPATH}js/worker.js`)\n        this.worker.onmessage = (e) => {\n          this[SAVE_RESTAURANT_DATA](e.data)\n          this.loading = false\n        }\n        this.worker.postMessage(data.data)\n      })\n    },\n    init() {\n      this.headerHeight = this.navTop = this.$refs.header.$el.offsetHeight\n      this.navOffsetTop = this.$refs['nav-list'].$el.offsetTop\n      this.$refs.scroll.on('scroll', this.scroll)\n    },\n    open(type) {\n      this.shopDrawer = true\n      if (!type) return\n      this.$nextTick(() => {\n        this.$refs.shopDrawer.scrollToElement(type)\n      })\n    },\n    close() {\n      this.shopDrawer = false\n    },\n    rect() {\n      // 注意这里不要用this.headerHeight, 而是使用$refs的方式获取值\n      // 因为order组件的init方法优先于此组件的init方法执行\n      // 当调用该方法时，this.headerHeight还是0\n      return {\n        headerHeight: this.$refs.header.$el.offsetHeight,\n        navOffsetTop: this.$refs['nav-list'].$el.offsetTop,\n        navHeight: this.$refs['nav-list'].$el.offsetHeight,\n        menuTop: this.$refs.content.offsetTop,\n      }\n    },\n    scroll({ y }) {\n      y = Math.ceil(y)\n      this.opacity = -y < this.interval ? +(-y / this.interval).toFixed(2) : 1\n      this.navList = -y + this.headerHeight >= this.navOffsetTop\n    },\n    reset() {\n      this.$refs.scroll.reset()\n    },\n    getScroll() {\n      return this.$refs.scroll\n    },\n    ...mapMutations('shop', [SAVE_RESTAURANT_DATA]),\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .shop-detail-container {\n    width: 100%;\n    height: 100%;\n  }\n\n  .scroll-wrapper {\n    overflow: hidden;\n    width: 100%;\n    height: 100%;\n  }\n\n  .shop-detail {\n    position: relative;\n    z-index: 0;\n    padding-top: px2rem(100);\n    background-color: #fff;\n  }\n\n  .bg-image-container {\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: -1;\n    width: 100%;\n    height: px2rem(200);\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n\n    &::before {\n      content: \"\";\n      display: block;\n      width: 100%;\n      height: 100%;\n      background-image: linear-gradient(0, rgba(255, 255, 255, 0), rgba(0, 0, 0, 0.5));\n    }\n\n    .wave-container {\n      position: absolute;\n      bottom: px2rem(-20);\n      left: 0;\n      width: 100%;\n      height: px2rem(50);\n    }\n  }\n\n  .shop-name {\n    @include single-line-overflow();\n    padding-right: px2rem(30);\n    color: $primaryTextColor;\n    font-size: px2rem(36);\n    font-weight: 700;\n    text-align: center;\n  }\n</style>\n","import mod from \"-!../../../../node_modules/_happypack@5.0.1@happypack/loader.js?id=js!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_happypack@5.0.1@happypack/loader.js?id=js!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2af61bdc&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=2af61bdc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2af61bdc\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--3-3!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=723d7502&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--3-3!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=723d7502&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=style&index=0&id=17c9d08d&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=style&index=0&id=17c9d08d&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./card.vue?vue&type=style&index=0&id=237be31c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./card.vue?vue&type=style&index=0&id=237be31c&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./navList.vue?vue&type=style&index=0&id=691580ff&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./navList.vue?vue&type=style&index=0&id=691580ff&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./shopDrawer.vue?vue&type=style&index=0&id=bf878bf2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./shopDrawer.vue?vue&type=style&index=0&id=bf878bf2&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=2af61bdc&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=2af61bdc&lang=scss&scoped=true&\""],"sourceRoot":""}